<div id="app-container" data-id="{{id}}">
	{{> header}}
    <br><br>
	<h1>Edit Link</h1>
	<br>
	<form id="edit-form">
		<div class="form-group">
			<label for="input-name">Name</label>
			<input type="text" class="form-control" id="input-name" value="{{site.name}}">
		</div>
		<div class="form-group">
			<label for="input-name">URL</label>
			<input type="text" class="form-control" id="input-url" value="{{site.url}}">
		</div>
		<div class="form-group">
			<label for="input-name">Date</label>
			<input type="text" class="form-control" id="input-date" value="{{site.date}}">
		</div>
	</form>
	<div id="update-btn" class="btn btn-default">Submit</div>
</div>
	
<script>
	$(document).ready(function () {
		var $form = $(document).find('#edit-form')
		var $btn = $(document).find('#update-btn')
		var id = $('#app-container').attr('data-id')
		function update(e) {
			e.preventDefault()
			var url = window.location.href
			var data = {
				name: $form.find('#input-name').val(),
				url: $form.find('#input-url').val(),
				date: $form.find('#input-date').val(),
			}
			$.ajax(url, {
				method: 'PUT',
				data: data,
				complete: function () {
					location = '/archive/admin'
				}
			})
		}
		$btn.on('click', update)
	});
</script>

